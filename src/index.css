@import "tailwindcss";
@config "../tailwind.config.js";

/* MesloLGS Nerd Font - bundled for terminal Unicode support */
@font-face {
  font-family: "MesloLGS NF";
  src: url("/fonts/MesloLGS-NF-Regular.ttf") format("truetype");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "MesloLGS NF";
  src: url("/fonts/MesloLGS-NF-Bold.ttf") format("truetype");
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "MesloLGS NF";
  src: url("/fonts/MesloLGS-NF-Italic.ttf") format("truetype");
  font-weight: 400;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: "MesloLGS NF";
  src: url("/fonts/MesloLGS-NF-BoldItalic.ttf") format("truetype");
  font-weight: 700;
  font-style: italic;
  font-display: swap;
}

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;
    --primary: 222.2 47.4% 11.2%;
    --primary-foreground: 210 40% 98%;
    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;
    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 222.2 84% 4.9%;
    --radius: 0.375rem;
  }

  .dark {
    --background: 0 0% 7%;
    --foreground: 0 0% 90%;
    --card: 0 0% 9%;
    --card-foreground: 0 0% 90%;
    --popover: 0 0% 9%;
    --popover-foreground: 0 0% 90%;
    --primary: 24 100% 50%;
    --primary-foreground: 0 0% 100%;
    --secondary: 0 0% 12%;
    --secondary-foreground: 0 0% 90%;
    --muted: 0 0% 15%;
    --muted-foreground: 0 0% 55%;
    --accent: 0 0% 15%;
    --accent-foreground: 0 0% 90%;
    --destructive: 0 62.8% 50%;
    --destructive-foreground: 0 0% 100%;
    --border: 0 0% 18%;
    --input: 0 0% 18%;
    --ring: 24 100% 50%;
  }

  .tokyo {
    --background: 228 18% 12%;
    --foreground: 225 27% 88%;
    --card: 228 18% 14%;
    --card-foreground: 225 27% 88%;
    --popover: 228 18% 14%;
    --popover-foreground: 225 27% 88%;
    --primary: 252 87% 67%;
    --primary-foreground: 0 0% 100%;
    --secondary: 228 18% 18%;
    --secondary-foreground: 225 27% 88%;
    --muted: 228 18% 20%;
    --muted-foreground: 225 15% 55%;
    --accent: 228 18% 20%;
    --accent-foreground: 225 27% 88%;
    --destructive: 353 80% 60%;
    --destructive-foreground: 0 0% 100%;
    --border: 228 18% 22%;
    --input: 228 18% 22%;
    --ring: 252 87% 67%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  html {
    @apply bg-background;
    min-height: 100vh;
    min-width: 100vw;
  }

  body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1;
    overflow: hidden;
    animation: fadeIn 0.2s ease-out;
    min-height: 100vh;
    min-width: 100vw;
  }

  #root {
    @apply bg-background;
    min-height: 100vh;
    min-width: 100vw;
  }

  /* Subtle noise texture overlay for depth */
  .dark #root::before,
  .tokyo #root::before,
  .custom #root::before {
    content: "";
    position: fixed;
    inset: 0;
    pointer-events: none;
    opacity: 0.015;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
    z-index: 9999;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes subtle-pulse {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.7;
    }
  }

  @keyframes glow-pulse {
    0%, 100% {
      box-shadow: 0 0 0 0 hsl(var(--primary) / 0.4);
    }
    50% {
      box-shadow: 0 0 12px 2px hsl(var(--primary) / 0.2);
    }
  }
}

/* xterm.js styles */
.xterm {
  padding: 8px;
}

.xterm .xterm-viewport {
  overflow-y: auto;
}

.xterm .xterm-screen {
  padding: 4px;
}

/* Custom scrollbar for dark mode */
.dark ::-webkit-scrollbar,
.tokyo ::-webkit-scrollbar,
.custom ::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

.dark ::-webkit-scrollbar-track,
.tokyo ::-webkit-scrollbar-track,
.custom ::-webkit-scrollbar-track {
  background: transparent;
}

.dark ::-webkit-scrollbar-thumb {
  background: hsl(0 0% 25%);
  border-radius: 3px;
}

.dark ::-webkit-scrollbar-thumb:hover {
  background: hsl(0 0% 35%);
}

.tokyo ::-webkit-scrollbar-thumb {
  background: hsl(228 18% 28%);
  border-radius: 3px;
}

.tokyo ::-webkit-scrollbar-thumb:hover {
  background: hsl(228 18% 38%);
}

.custom ::-webkit-scrollbar-thumb {
  background: hsl(var(--muted));
  border-radius: 3px;
}

.custom ::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--muted-foreground));
}

/* Prevent text selection in UI elements */
.no-select {
  user-select: none;
  -webkit-user-select: none;
}

/* Hide scrollbar but keep scroll functionality */
.scrollbar-none {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.scrollbar-none::-webkit-scrollbar {
  display: none;
}

/* Section headers */
.section-header {
  @apply text-[11px] font-medium uppercase tracking-wider text-muted-foreground;
}

/* File status indicators - enhanced with glow */
.status-modified {
  @apply bg-primary;
  box-shadow: 0 0 6px hsl(var(--primary) / 0.5);
}

.status-added {
  @apply bg-green-500;
  box-shadow: 0 0 6px rgb(34 197 94 / 0.5);
}

.status-deleted {
  @apply bg-red-500;
  box-shadow: 0 0 6px rgb(239 68 68 / 0.5);
}

/* Progress bars */
.progress-bar {
  @apply h-1 rounded-full bg-muted;
}

.progress-bar-fill {
  @apply h-full rounded-full transition-all duration-300;
}

.progress-bar-fill-orange {
  @apply bg-primary;
}

.progress-bar-fill-green {
  @apply bg-green-500;
}

/* Panel styling */
.panel {
  @apply bg-card border-border;
}

/* Monospace text */
.mono {
  font-family: 'SF Mono', 'Menlo', 'Monaco', 'Consolas', monospace;
}

/* AI suggestion card - enhanced with gradient border and glow */
.ai-card {
  @apply border-l-2 border-l-primary bg-card;
  background: linear-gradient(to right, hsl(var(--primary) / 0.05), transparent 50%);
  box-shadow: inset 2px 0 8px -4px hsl(var(--primary) / 0.3);
}

/* Tab styling overrides */
.tab-list {
  @apply bg-transparent border-b border-border;
}

.tab-trigger {
  @apply text-muted-foreground data-[state=active]:text-foreground data-[state=active]:border-b-2 data-[state=active]:border-primary;
}

.tab-scroll {
  overflow-x: auto;
  overflow-y: hidden;
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.tab-scroll::-webkit-scrollbar {
  display: none;
}

/* Prose styling for markdown preview - uses app CSS variables */
.prose {
  --tw-prose-body: hsl(var(--foreground));
  --tw-prose-headings: hsl(var(--foreground));
  --tw-prose-lead: hsl(var(--muted-foreground));
  --tw-prose-links: hsl(var(--primary));
  --tw-prose-bold: hsl(var(--foreground));
  --tw-prose-counters: hsl(var(--muted-foreground));
  --tw-prose-bullets: hsl(var(--muted-foreground));
  --tw-prose-hr: hsl(var(--border));
  --tw-prose-quotes: hsl(var(--foreground));
  --tw-prose-quote-borders: hsl(var(--border));
  --tw-prose-captions: hsl(var(--muted-foreground));
  --tw-prose-code: hsl(var(--foreground));
  --tw-prose-pre-code: hsl(var(--foreground));
  --tw-prose-pre-bg: hsl(var(--muted));
  --tw-prose-th-borders: hsl(var(--border));
  --tw-prose-td-borders: hsl(var(--border));
}

/* Monaco editor find widget - ensure it appears above window chrome */
.monaco-editor .find-widget {
  z-index: 100 !important;
}

.monaco-editor .find-widget .monaco-inputbox .input {
  background-color: hsl(var(--background)) !important;
  color: hsl(var(--foreground)) !important;
}

.monaco-editor .find-widget .button {
  background-color: transparent !important;
}

.monaco-editor .find-widget .button:hover {
  background-color: hsl(var(--muted)) !important;
}

/* ========================================
   ENHANCED DESIGN SYSTEM
   ======================================== */

/* Primary buttons with colored shadow and subtle gradient */
.dark [data-slot="button"][data-variant="default"],
.tokyo [data-slot="button"][data-variant="default"],
.custom [data-slot="button"][data-variant="default"] {
  background: linear-gradient(135deg, hsl(var(--primary)) 0%, hsl(var(--primary) / 0.85) 100%);
  box-shadow: 0 2px 8px -2px hsl(var(--primary) / 0.4), 0 1px 2px hsl(0 0% 0% / 0.2);
  border: 1px solid hsl(var(--primary) / 0.2);
  transition: all 0.2s ease;
}

.dark [data-slot="button"][data-variant="default"]:hover,
.tokyo [data-slot="button"][data-variant="default"]:hover,
.custom [data-slot="button"][data-variant="default"]:hover {
  box-shadow: 0 4px 16px -2px hsl(var(--primary) / 0.5), 0 2px 4px hsl(0 0% 0% / 0.3);
  transform: translateY(-1px);
}

.dark [data-slot="button"][data-variant="default"]:active,
.tokyo [data-slot="button"][data-variant="default"]:active,
.custom [data-slot="button"][data-variant="default"]:active {
  transform: translateY(0);
  box-shadow: 0 1px 4px -1px hsl(var(--primary) / 0.4);
}

/* Ghost buttons with subtle border on hover */
.dark [data-slot="button"][data-variant="ghost"]:hover,
.tokyo [data-slot="button"][data-variant="ghost"]:hover,
.custom [data-slot="button"][data-variant="ghost"]:hover {
  border-color: hsl(var(--border));
  background: hsl(var(--muted) / 0.5);
}

/* Outline buttons with subtle inner glow */
.dark [data-slot="button"][data-variant="outline"],
.tokyo [data-slot="button"][data-variant="outline"],
.custom [data-slot="button"][data-variant="outline"] {
  background: linear-gradient(180deg, hsl(var(--card)) 0%, hsl(var(--background)) 100%);
  box-shadow: inset 0 1px 0 hsl(var(--foreground) / 0.03);
}

/* Cards with subtle top highlight */
.dark [data-slot="card"],
.tokyo [data-slot="card"],
.custom [data-slot="card"] {
  background: linear-gradient(180deg, hsl(var(--card) / 0.9) 0%, hsl(var(--card)) 100%);
  box-shadow:
    0 1px 3px hsl(0 0% 0% / 0.1),
    inset 0 1px 0 hsl(var(--foreground) / 0.02);
}

/* Input fields with subtle inner shadow */
.dark input:not([type="checkbox"]):not([type="radio"]),
.tokyo input:not([type="checkbox"]):not([type="radio"]),
.custom input:not([type="checkbox"]):not([type="radio"]),
.dark textarea,
.tokyo textarea,
.custom textarea {
  box-shadow: inset 0 1px 2px hsl(0 0% 0% / 0.15);
  transition: box-shadow 0.2s ease, border-color 0.2s ease;
}

.dark input:not([type="checkbox"]):not([type="radio"]):not([data-no-focus-ring]):focus,
.tokyo input:not([type="checkbox"]):not([type="radio"]):not([data-no-focus-ring]):focus,
.custom input:not([type="checkbox"]):not([type="radio"]):not([data-no-focus-ring]):focus,
.dark textarea:focus,
.tokyo textarea:focus,
.custom textarea:focus {
  box-shadow:
    inset 0 1px 2px hsl(0 0% 0% / 0.1),
    0 0 0 3px hsl(var(--primary) / 0.15);
}

/* Enhanced scrollbars with gradient thumb */
.dark ::-webkit-scrollbar-thumb,
.tokyo ::-webkit-scrollbar-thumb,
.custom ::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, hsl(var(--muted-foreground) / 0.3) 0%, hsl(var(--muted-foreground) / 0.2) 100%);
}

/* Action cards (home page) with enhanced hover */
.dark .group:hover .flex.h-10.w-10,
.tokyo .group:hover .flex.h-10.w-10,
.custom .group:hover .flex.h-10.w-10 {
  background: hsl(var(--primary) / 0.15);
  box-shadow: 0 0 12px hsl(var(--primary) / 0.2);
}

/* Diff view enhancements */
.dark .bg-green-500\/10,
.tokyo .bg-green-500\/10 {
  background: linear-gradient(90deg, rgb(34 197 94 / 0.15) 0%, rgb(34 197 94 / 0.05) 100%);
  border-left: 2px solid rgb(34 197 94 / 0.5);
  margin-left: -2px;
  padding-left: 2px;
}

.dark .bg-red-500\/10,
.tokyo .bg-red-500\/10 {
  background: linear-gradient(90deg, rgb(239 68 68 / 0.15) 0%, rgb(239 68 68 / 0.05) 100%);
  border-left: 2px solid rgb(239 68 68 / 0.5);
  margin-left: -2px;
  padding-left: 2px;
}

/* Floating drag indicator with glow */
.dark .fixed.pointer-events-none.z-50,
.tokyo .fixed.pointer-events-none.z-50,
.custom .fixed.pointer-events-none.z-50 {
  box-shadow:
    0 4px 20px hsl(var(--primary) / 0.4),
    0 0 0 1px hsl(var(--primary) / 0.2);
}

/* Sidebar icons with glow when active */
.dark .bg-primary\/20,
.tokyo .bg-primary\/20,
.custom .bg-primary\/20 {
  box-shadow: 0 0 12px hsl(var(--primary) / 0.2);
}

/* Selection highlight with glow */
.dark .bg-primary\/20[class*="relative"],
.tokyo .bg-primary\/20[class*="relative"],
.custom .bg-primary\/20[class*="relative"] {
  background: linear-gradient(90deg, hsl(var(--primary) / 0.15) 0%, hsl(var(--primary) / 0.08) 100%);
  box-shadow: inset 0 0 0 1px hsl(var(--primary) / 0.2);
}

/* Loading spinners with glow */
.dark .animate-spin,
.tokyo .animate-spin,
.custom .animate-spin {
  filter: drop-shadow(0 0 4px hsl(var(--primary) / 0.5));
}

/* Dialog/modal backdrop enhancement */
.dark [data-slot="dialog-overlay"],
.tokyo [data-slot="dialog-overlay"],
.custom [data-slot="dialog-overlay"] {
  backdrop-filter: blur(4px);
}

/* Dialog content with subtle glow */
.dark [data-slot="dialog-content"],
.tokyo [data-slot="dialog-content"],
.custom [data-slot="dialog-content"] {
  box-shadow:
    0 24px 48px -12px hsl(0 0% 0% / 0.5),
    0 0 0 1px hsl(var(--border)),
    inset 0 1px 0 hsl(var(--foreground) / 0.02);
}

/* Tooltips with subtle glow */
.dark [data-slot="tooltip-content"],
.tokyo [data-slot="tooltip-content"],
.custom [data-slot="tooltip-content"] {
  box-shadow:
    0 4px 12px hsl(0 0% 0% / 0.3),
    0 0 0 1px hsl(var(--border) / 0.5);
}

/* Context menu with enhanced shadow */
.dark [data-slot="context-menu-content"],
.tokyo [data-slot="context-menu-content"],
.custom [data-slot="context-menu-content"],
.dark [data-slot="dropdown-menu-content"],
.tokyo [data-slot="dropdown-menu-content"],
.custom [data-slot="dropdown-menu-content"] {
  box-shadow:
    0 8px 24px hsl(0 0% 0% / 0.4),
    0 0 0 1px hsl(var(--border));
}

/* Badge/chip enhancements */
.dark .rounded-full.bg-primary,
.tokyo .rounded-full.bg-primary,
.custom .rounded-full.bg-primary {
  box-shadow: 0 0 8px hsl(var(--primary) / 0.4);
}

.dark .rounded-full.bg-blue-500,
.tokyo .rounded-full.bg-blue-500,
.custom .rounded-full.bg-blue-500 {
  box-shadow: 0 0 8px rgb(59 130 246 / 0.4);
}
